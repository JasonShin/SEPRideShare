<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"> 
    
    <ui:include src="header.xhtml"/>
    <title>Rideshare</title>
    <h:body>
        <header class="header-bar">
            <h1 id="left-content">RideShare</h1>
            <div id="right-content">
                <p:growl id="growl" life="2000" />
                <h:form rendered="#{empty request.remoteUser}">
                    <p:commandButton id="signupButton" value="Signup" type="button"/> 
                    <p:overlayPanel id="loginPanel" for="signupButton" hideEffect="fade">
                        
                        <div id="container">

                            <div>username or email: </div>
                            <div>
                                <p:inputText id="newUsername" value="#{accountController.account.username}">
                                    <f:validator validatorId="custom.usernameValidator" />
                                </p:inputText>

                            </div>
                            <div>Password: </div>
                            <div>
                                <p:inputText id="newPassword" value="#{accountController.account.password}">
                                    <f:validator validatorId="custom.passwordValidator" />
                                </p:inputText>

                            </div>
                            
                            
                            <div>Phone: </div>
                            <div>
                                <p:inputText id="phone" value="#{accountController.account.phone}" />
                            </div>
                            
                            <div>Email: </div>
                            <div>
                                <p:inputText id="email" value="#{accountController.account.email}" />
                            </div>
                            
                            <!-- Display any error messages associated for this input -->
                            <p:message for="newUsername" />
                            <p:message for="newPassword" />
                            
                            <div style="padding-top: 10px;"> 

                                <p:commandButton value="Signup" id="signupSubmit" action="#{accountController.signup()}" ajax="false" />


                            </div> 

                        </div>

                    </p:overlayPanel>
                </h:form>
                
                
                <h:form rendered="#{empty request.remoteUser}">
                    <p:commandButton id="loginButton" value="Login" type="button"/> 
                    <p:overlayPanel id="loginPanel" for="loginButton" hideEffect="fade">
                        
                        <div id="container">

                            <div>username or email: </div>
                            <div>
                                <p:inputText id="username" value="#{accountController.account.username}" />

                            </div>
                            <div>Password: </div>
                            <div>
                                <p:inputText id="password" value="#{accountController.account.password}" />

                            </div>
                            <div style="padding-top: 10px;"> 
                                <p:commandButton value="Login" id="loginSubmit" action="#{accountController.login()}" ajax="false" />
                            </div> 

                        </div>

                    </p:overlayPanel>
                </h:form>

                <h:form rendered="#{not empty request.remoteUser}">
                    <p:commandButton value="Logout" id="logout" action="#{accountController.logout()}" ajax="false" />

                </h:form>
            </div>
        </header>
        <div id="main-content">                       
            <h2>Our Mission: </h2>
            <h3>Contentment, mediocrity</h3>
        </div>
        <div id="main-text">            
        </div>

        <div id="footer">
        </div>

        <script src="login.controller.js"></script>
    </h:body>
    
    <ui:include src="footer.xhtml"/>
</html>

